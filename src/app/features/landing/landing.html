<!-- HERO SECTION CON CARRUSEL -->
<section class="hero-section" id="inicio">
  <!-- Carrusel de imágenes -->
  <div class="carousel">
    @for (slide of slides; track $index) {
      <div class="carousel-slide" [class.active]="currentSlide === $index">
        <img [src]="slide.image" [alt]="'Slide ' + ($index + 1)">
        <div class="slide-overlay"></div>
      </div>
    }
  </div>

  <!-- Contenido del Hero -->
  <div class="hero-content">
    @for (slide of slides; track $index) {
      <div class="hero-text" [class.active]="currentSlide === $index">
        <h1 class="hero-title animate-fade-down">{{ slide.title }}</h1>
        <h2 class="hero-subtitle animate-fade-up">{{ slide.subtitle }}</h2>
        <button class="cta-button animate-fade-up-delay" (click)="scheduleMeet()">AGENDA TU CITA</button>
      </div>
    }
  </div>

  <!-- Indicadores del carrusel -->
  <div class="carousel-indicators">
    @for (slide of slides; track $index) {
      <button
        class="indicator"
        [class.active]="currentSlide === $index"
        (click)="goToSlide($index)"
        [attr.aria-label]="'Ir a slide ' + ($index + 1)">
      </button>
    }
  </div>

</section>

<!-- SECCIÓN DE ESPECIALIDADES -->
<section class="specialties-section" id="especialidades">
  <div class="container">
    <h2 class="section-title">Nuestras <strong>ESPECIALIDADES</strong></h2>

    <div class="specialties-grid">

      <!-- Especialidad 1: Odontología restauradora -->
      <div class="specialty-card">
        <div class="specialty-icon">
          <img
            src="specialties/odontologia-restauradora.png"
            alt="Icono Odontología Restauradora"
            class="specialty-img">
        </div>
        <h3 class="specialty-title">Odontología Restauradora</h3>
        <a routerLink="/especialidades/odontologia-restauradora" class="specialty-link">Ver Casos</a>
      </div>

      <!-- Especialidad 2: Endodoncia -->
      <div class="specialty-card">
        <div class="specialty-icon">
          <img
            src="specialties/endodoncia.png"
            alt="Icono Endodoncia"
            class="specialty-img">
        </div>
        <h3 class="specialty-title">Endodoncia</h3>
        <a routerLink="/especialidades/endodoncia" class="specialty-link">Ver Casos</a>
      </div>

      <!-- Especialidad 3: Rehabilitación Oral -->
      <div class="specialty-card">
        <div class="specialty-icon">
            <img
              src="specialties/rehabilitacion.png"
              alt="Icono Rehabilitacion"
              class="specialty-img">
        </div>
        <h3 class="specialty-title">Rehabilitación Oral</h3>
        <a routerLink="/especialidades/rehabilitacion" class="specialty-link">Ver Casos</a>
      </div>

      <!-- Especialidad 4: Ortodoncia -->
      <div class="specialty-card">
        <div class="specialty-icon">
          <img
            src="specialties/ortodoncia.png"
            alt="Icono Ortodoncia"
            class="specialty-img">
        </div>
        <h3 class="specialty-title">Ortodoncia</h3>
        <a routerLink="/especialidades/ortodoncia" class="specialty-link">Ver Casos</a>
      </div>

      <!-- Especialidad 5: Cirugía Bucal -->
      <div class="specialty-card">
        <div class="specialty-icon">
          <img
            src="specialties/cirugia.png"
            alt="Icono Cirugia"
            class="specialty-img">
        </div>
        <h3 class="specialty-title">Cirugía Bucal</h3>
        <a routerLink="/especialidades/cirugia" class="specialty-link">Ver Casos</a>
      </div>

      <!-- Especialidad 6: Radiología Oral y Maxilofacial -->
      <div class="specialty-card">
        <div class="specialty-icon">
          <img
            src="specialties/radiologia.png"
            alt="Icono Radiologia"
            class="specialty-img">
        </div>
        <h3 class="specialty-title">Radiología Oral y Maxilofacial</h3>
        <a routerLink="/especialidades/radiologia" class="specialty-link">Ver Casos</a>
      </div>

      <!-- Especialidad 7: Implantología -->
      <div class="specialty-card">
        <div class="specialty-icon">
          <img
            src="specialties/implantologia.png"
            alt="Icono Implantologia"
            class="specialty-img">
        </div>
        <h3 class="specialty-title">Implantología</h3>
        <a routerLink="/especialidades/implantologia" class="specialty-link">Ver Casos</a>
      </div>

      <!-- Especialidad 8: Odontologia estetica -->
      <div class="specialty-card">
        <div class="specialty-icon">
          <img
            src="specialties/odontologia-estetica.png"
            alt="Icono Odontologia estetica"
            class="specialty-img">
        </div>
        <h3 class="specialty-title">Odontologia Estetica</h3>
        <a routerLink="/especialidades/odontologia-estetica" class="specialty-link">Ver Casos</a>
      </div>

    </div>
  </div>
</section>

<!-- SECCIÓN DE TESTIMONIOS -->
<section class="testimonios-section" id="testimonios">
  <div class="testimonios-container">
    <h2 class="testimonios-title">Ellos confían en NOSOTROS</h2>

    <div class="testimonios-carousel">
      <!-- Botón izquierdo -->
      <button
        class="carousel-button carousel-button-left"
        (click)="scrollReviews('left')"
        [disabled]="!canScrollLeft">
        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
          <polyline points="15 18 9 12 15 6"></polyline>
        </svg>
      </button>

      <!-- Wrapper para la animación -->
      <div class="testimonios-wrapper">
        <!-- Tarjetas de testimonios -->
        <div class="testimonios-grid"
             [style.transform]="'translateX(-' + (currentReviewIndex * (100 / reviewsPerPage)) + '%)'">
          <div class="testimonio-card-wrapper" *ngFor="let review of reviews; let i = index"
               [style.flex]="'0 0 ' + (100 / reviewsPerPage) + '%'">

            <div class="testimonio-card"
                 [class.expanded]="review.expanded">
              <!-- Avatar con badge de Google -->
              <div class="avatar-container">
                <img [src]="review.profilePhotoUrl" [alt]="review.authorName" class="avatar-image">
                <div class="google-badge">
                  <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="#4285F4">
                    <path d="M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"/>
                    <path d="M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z" fill="#34A853"/>
                    <path d="M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z" fill="#FBBC05"/>
                    <path d="M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z" fill="#EA4335"/>
                  </svg>
                </div>
              </div>

              <!-- Nombre y fecha -->
              <h3 class="review-author">{{ review.authorName }}</h3>
              <p class="review-date">{{ review.relativeTimeDescription }}</p>

              <!-- Estrellas -->
              <div class="review-stars">
              <span
                *ngFor="let star of getStarsArray(review.rating)"
                class="star"
                [class.filled]="star === 1">
                ★
              </span>
              </div>

              <!-- Texto del comentario -->
              <p class="review-text" [class.expanded]="review.expanded">{{ review.text }}</p>

              <!-- Botón Leer más/Ocultar -->
              <button
                class="read-more-btn"
                *ngIf="review.text.length > 150"
                (click)="toggleReviewText(i)">
                {{ review.expanded ? 'Ocultar' : 'Leer más' }}
              </button>
            </div>
          </div>
        </div>
      </div>

      <!-- Botón derecho -->
      <button
        class="carousel-button carousel-button-right"
        (click)="scrollReviews('right')"
        [disabled]="!canScrollRight">
        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
          <polyline points="9 18 15 12 9 6"></polyline>
        </svg>
      </button>
    </div>

    <!-- Botón Ver en Google -->
    <div class="google-button-container">
      <a href="https://www.google.com/maps/place/Consultorio+Dental+OdontPro/@-11.1084465,-77.6125427,17z/data=!4m8!3m7!1s0x9106df994349466f:0x5f157937fdd053ea!8m2!3d-11.1084465!4d-77.6099678!9m1!1b1!16s%2Fg%2F11n60x00pp?entry=ttu&g_ep=EgoyMDI1MTIwOS4wIKXMDSoASAFQAw%3D%3D" target="_blank" class="google-button">
        VER EN GOOGLE
      </a>
    </div>
  </div>
</section>

<!-- SECCIÓN DE UBICACIÓN -->
<section class="location-section" id="ubicacion">
  <div class="location-content">
    <div class="location-info">
      <h2 class="section-title">Nuestra <strong>UBICACIÓN</strong></h2>
    </div>
  </div>

  <div class="map-container">
    <iframe
      src="https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d1163.9560475126839!2d-77.61046946245956!3d-11.108468682708523!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x9106df994349466f%3A0x5f157937fdd053ea!2sConsultorio%20Dental%20OdontPro!5e0!3m2!1ses!2spe!4v1766087232657!5m2!1ses!2spe"
      width="100%"
      height="450"
      style="border:0;"
      allowfullscreen=""
      loading="lazy"
      referrerpolicy="no-referrer-when-downgrade">
    </iframe>
  </div>
</section>
